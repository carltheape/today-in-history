<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
	<h1>
		Today in History:
	</h1>
	<ul id="list">
		
	</ul>
</body>

<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  
<script>
var today = new Date();

var month = new Array();
month[0] = "January";
month[1] = "February";
month[2] = "March";
month[3] = "April";
month[4] = "May";
month[5] = "June";
month[6] = "July";
month[7] = "August";
month[8] = "September";
month[9] = "October";
month[10] = "November";
month[11] = "December";
var n = month[today.getMonth()];
let ev = [];
console.log(n+"_"+today.getDate());
function item() { return ev[Math.floor(Math.random()*ev.length)]};

$.getJSON('http://allorigins.me/get?url=' + encodeURIComponent("https://en.wikipedia.org/wiki/" + n + "_" + today.getDate() + "") + '&callback=?', function(data){
// console.log(data.contents);

var el = $( '<div></div>' );
el.html(data.contents);

let events = $('#Events', el).parent().next()[0];

console.log(events.children);
// console.log(events.children.length);

for (var i = 0; i < events.children.length; i++) {
	ev.push(events.children[i].innerText);
}


$('#list').append(item());

console.log(item);

});

$(function() {
    history();

    function history() {
       setTimeout(history,10000);
       $('#list').html(item());
    }
});
	
</script>
</html>